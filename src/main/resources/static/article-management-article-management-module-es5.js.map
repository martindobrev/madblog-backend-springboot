{"version":3,"sources":["webpack:///src/app/api/article.ts","webpack:///src/app/article-management/article-create/article-create.component.ts","webpack:///src/app/article-management/article-edit/article-edit.component.html","webpack:///src/app/article-management/article-edit/article-edit.component.ts","webpack:///src/app/article-management/article-list/article-list.component.ts","webpack:///src/app/article-management/article-list/article-list.component.html","webpack:///src/app/article-management/article-management-routing.module.ts","webpack:///src/app/article-management/article-management.module.ts","webpack:///src/app/services/article/own-article-collection-resolve.service.ts"],"names":["Article","editable","deletable","ArticleCollection","ArticleCreateComponent","articleService","keycloakService","router","fileService","article","articleAvailable","canUserPublishArticles","showFileManager","create","subscriptions","BACKGROUND_IMAGE","canPublishArticles","push","getFileSelected$","subscribe","data","id","imageId","file","hideFileManager","forEach","s","unsubscribe","createArticle","obj","navigateByUrl","selector","templateUrl","styleUrls","ArticleEditComponent","activatedRoute","editArticle","navigate","relativeTo","ArticleListComponent","articles","articleCollection","event","articleToBeSaved","published","target","checked","subscription","console","log","featured","deleteArticle","result","timer","disableTimer","getArticles","idToDelete","window","setTimeout","clearTimeout","routes","path","component","resolve","canActivate","ArticleManagementRoutingModule","forChild","imports","exports","ArticleManagementModule","declarations","OwnArticleCollectionResolveService","getCompleteArticles","providedIn"],"mappings":"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","file":"article-management-article-management-module-es5.js","sourcesContent":["import { User } from \"./user\";\n\nexport class Article {\n    id: string;\n    title: string;\n    subtitle: string;\n    content: string;\n    htmlContent: string;\n    imageId: number;\n    published: boolean;\n    featured: boolean;\n    editable: boolean = true;\n    deletable: boolean = false;\n    created: Date;\n    authorId: string;\n    user: User;\n}\n\nexport class ArticleCollection {\n    articles: Array<Article>;\n}","import { Component, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Article } from '../../api/article';\nimport { BlogFile } from '../../api/blog-file';\nimport { Router } from '@angular/router';\nimport { AbstractKeycloakService } from '../../services/keycloak/abstract.keycloak.service';\nimport { AbstractArticleService } from '../../services/article/abstract.article.service';\nimport { AbstractFileService } from '../../services/file/abstract.file.service';\n\ndeclare var UIkit: any;\n\n@Component({\n  selector: 'app-article-create',\n  templateUrl: './../article-edit/article-edit.component.html',\n  styleUrls: ['./article-create.component.css']\n})\nexport class ArticleCreateComponent implements OnInit {\n\n  article: Article = new Article();\n  articleAvailable = false;\n  canUserPublishArticles: boolean = false;\n  showFileManager =  false;\n  create = true;\n\n  private subscriptions: Array<Subscription> = [];\n  private BACKGROUND_IMAGE = 'CREATE_ARTICLE_BACKGROUND';\n\n  constructor(private articleService: AbstractArticleService, \n    private keycloakService: AbstractKeycloakService, \n    private router: Router, \n    private fileService: AbstractFileService) { \n  }\n\n  ngOnInit() {\n    this.canUserPublishArticles = this.keycloakService.canPublishArticles();\n\n    this.subscriptions.push(\n      this.fileService.getFileSelected$().subscribe((data: {id: string, file: BlogFile}) => {\n        if (data.id === this.BACKGROUND_IMAGE) {\n          this.article.imageId = data.file.id;\n          this.fileService.hideFileManager(data.id);\n        }\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  saveArticle() {\n    this.subscriptions.push(\n    this.articleService.createArticle(this.article).subscribe(obj => {\n      let article = obj as Article;\n      this.router.navigateByUrl(`/article/${article.id}` )\n    })\n    );\n  }\n\n  openFileManager() {\n    this.fileService.showFileManager(this.BACKGROUND_IMAGE);\n  }\n}\n","<div class=\"uk-section uk-section-default\">\n\n  <div class=\"uk-container\" *ngIf=\"!articleAvailable && !create; else editor\">\n    <h1 class=\"uk-text-warning\">You are not authorized to edit this article</h1>\n  </div>\n\n  <ng-template #editor>\n    <div class=\"uk-container\">\n      <form class=\"uk-form-horizontal uk-margin-large\" #articleForm=\"ngForm\">\n        <div class=\"uk-margin\" *ngIf=\"article.id\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-id\">Id</label>\n          <div class=\"uk-form-controls\">\n            <input class=\"uk-input\" id=\"form-horizontal-id\" name=\"id\" type=\"text\" [(ngModel)]=\"article.id\" disabled>\n          </div>\n        </div>\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-title\">Title</label>\n          <div class=\"uk-form-controls\">\n            <input class=\"uk-input\" required #title=\"ngModel\" [ngClass]=\"{'uk-form-danger': title.invalid }\" id=\"form-horizontal-title\"\n              name=\"title\" type=\"text\" [(ngModel)]=\"article.title\" placeholder=\"Some text...\">\n          </div>\n        </div>\n\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-subtitle\">Subtitle</label>\n          <div class=\"uk-form-controls\">\n            <input class=\"uk-input\" required #subtitle=\"ngModel\" [ngClass]=\"{'uk-form-danger': subtitle.invalid }\" id=\"form-horizontal-subtitle\"\n              name=\"subtitle\" type=\"text\" [(ngModel)]=\"article.subtitle\" placeholder=\"Some text...\">\n          </div>\n        </div>\n\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-content\">Content</label>\n          <div class=\"uk-form-controls\">\n            <app-html-editor name=\"Content\" [(ngModel)]=\"article.content\" required></app-html-editor>\n          </div>\n        </div>\n\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-image\">Background image</label>\n          <div class=\"uk-form-controls\">\n\n            <div *ngIf=\"article.imageId\">\n              <img src=\"/api/v1/files/{{article.imageId}}?size=100\" />\n            </div>\n\n            <button class=\"uk-button uk-button-default uk-button-small\" (click)=\"openFileManager()\" type=\"button\">select</button>\n          </div>\n        </div>\n\n        <div class=\"uk-margin\" *ngIf=\"canUserPublishArticles\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-text\">Published</label>\n          <div class=\"uk-form-controls\">\n            <input class=\"uk-checkbox\" name=\"published\" type=\"checkbox\" [(ngModel)]=\"article.published\" checked>\n            published articles will be available to everyone\n          </div>\n        </div>\n\n\n        <div class=\"uk-margin\" *ngIf=\"canUserPublishArticles\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-text\">Featured</label>\n          <div class=\"uk-form-controls\">\n            <input class=\"uk-checkbox\" name=\"featured\" type=\"checkbox\" [(ngModel)]=\"article.featured\" checked> Featured\n            articles show on top of the page. If more than 1 article is featured, a random one will be displayed\n          </div>\n        </div>\n\n\n        <div class=\"uk-margin\">\n          <div class=\"uk-form-controls\" uk-margin>\n            <button class=\"uk-button uk-button-default\" routerLink=\"./../..\">Cancel</button>\n            <button [disabled]=\"!articleForm.valid\" class=\"uk-button uk-button-primary\" (click)=\"saveArticle()\">Save</button>\n          </div>\n        </div>\n      </form>\n    </div>\n\n  </ng-template>\n\n\n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Article } from '../../api/article';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AbstractArticleService } from '../../services/article/abstract.article.service';\nimport { Subscription } from 'rxjs';\nimport { User } from '../../api/user';\nimport { AbstractKeycloakService } from '../../services/keycloak/abstract.keycloak.service';\nimport { AbstractFileService } from '../../services/file/abstract.file.service';\nimport { BlogFile } from '../../api/blog-file';\n\n@Component({\n  selector: 'app-article-edit',\n  templateUrl: './article-edit.component.html',\n  styleUrls: ['./article-edit.component.css']\n})\nexport class ArticleEditComponent implements OnInit, OnDestroy {\n  \n  article: Article;\n  canUserPublishArticles: boolean = false;\n  articleAvailable = false;\n  create = false;\n  \n  private BACKGROUND_IMAGE = 'BACKGROUND';\n\n  private subscriptions: Array<Subscription> = [];\n\n  constructor(private activatedRoute: ActivatedRoute,\n    private keycloakService: AbstractKeycloakService,\n    private articleService: AbstractArticleService,\n    private router: Router,\n    private fileService: AbstractFileService,\n    ) { \n    this.subscriptions.push(\n      this.activatedRoute.data.subscribe(data => {\n        this.article = data.article;\n        if (this.article) {\n          if (this.article.editable) {\n            this.articleAvailable = true;\n          }\n        }\n      })\n    );\n\n    this.subscriptions.push(\n      this.fileService.getFileSelected$().subscribe((data: {id: string, file: BlogFile}) => {\n        if (data.id === this.BACKGROUND_IMAGE) {\n          this.article.imageId = data.file.id;\n          this.fileService.hideFileManager(data.id);\n        }\n      })\n    );\n  }\n\n  ngOnInit() {\n    this.canUserPublishArticles = this.keycloakService.canPublishArticles();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  saveArticle() {\n    this.subscriptions.push(\n    this.articleService.editArticle(this.article).subscribe(obj => {\n      this.router.navigate(['../../'], { relativeTo: this.activatedRoute});\n    })\n    );\n  }\n\n  openFileManager() {\n    this.fileService.showFileManager(this.BACKGROUND_IMAGE);\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Article } from '../../api/article';\nimport { AbstractKeycloakService } from '../../services/keycloak/abstract.keycloak.service';\nimport { AbstractArticleService } from '../../services/article/abstract.article.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-article-list',\n  templateUrl: './article-list.component.html',\n  styleUrls: ['./article-list.component.css']\n})\nexport class ArticleListComponent implements OnInit {\n\n  @Input() title: string;\n  articles: Array<Article> = [];\n  \n  canPublishArticles: boolean;\n\n  idToDelete: string;\n\n  timer: number;\n\n  constructor(private keycloakService: AbstractKeycloakService, private articleService: AbstractArticleService,\n     private activatedRoute: ActivatedRoute) { \n    this.canPublishArticles = keycloakService.canPublishArticles();\n  }\n\n  ngOnInit() {\n    this.activatedRoute.data.subscribe(data => {\n      this.articles = data.articleCollection.articles;\n    });\n  }\n\n  articlePublishedChanged(article: Article, event: any) {\n    const articleToBeSaved = article;\n    articleToBeSaved.published = event.target.checked;\n\n    let subscription = this.articleService.editArticle(articleToBeSaved).subscribe(article => {\n      console.log('CHANGED ARTICLE CONTENT IS: ' + article);\n      subscription.unsubscribe();\n    });\n    console.log('Article ' + article.id + ' published: ' , event.target.checked);\n  }\n\n  articleFeaturedChanged(article: Article, event: any) {\n    const articleToBeSaved = article;\n    articleToBeSaved.featured = event.target.checked;\n\n    let subscription = this.articleService.editArticle(articleToBeSaved).subscribe(article => {\n      console.log('CHANGED ARTICLE CONTENT IS: ' + article);\n      subscription.unsubscribe();\n    });\n  }\n\n  deleteArticle(article: Article) {\n    this.articleService.deleteArticle(article).subscribe(result => {\n      if (this.timer) {\n        this.disableTimer();\n      }\n\n      if (result) {\n        this.articleService.getArticles().subscribe(articleCollection => {\n          this.articles = articleCollection.articles;\n        });\n      }\n    });\n  }\n\n  markForDeletion(article: Article) {\n    this.idToDelete = article.id;\n    this.timer = window.setTimeout(() => {\n      this.disableTimer();\n    }, 2000);\n  }\n\n  private disableTimer() {\n    this.idToDelete = null;\n    window.clearTimeout(this.timer);\n    this.timer = null;\n  }\n\n}\n","<table class=\"uk-table uk-table-striped\" *ngIf=\"articles.length > 0\">\n    <thead>\n        <tr>\n            <th>id</th>\n            <th>title</th>\n            <th>published</th>\n            <th>featured</th>\n            <th>created</th>\n            <th>options</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngFor=\"let article of articles\">\n            <td>{{article.id}}</td>\n            <td>{{article.title}}</td>\n            <td>\n                <input class=\"uk-checkbox\" type=\"checkbox\" (change)=\"articlePublishedChanged(article, $event)\" [checked]=\"article.published\" [disabled]=\"!article.publishable\"/>\n            </td>\n            <td>\n                <input class=\"uk-checkbox\" type=\"checkbox\" (change)=\"articleFeaturedChanged(article, $event)\" [checked]=\"article.featured\" [disabled]=\"!article.publishable\"/>\n            </td>\n            <td>{{article.created | date: 'short'}}</td>\n            <td *ngIf=\"idToDelete !== article.id\">\n                <button *ngIf=\"article.editable\" class=\"uk-button uk-button-small uk-button-default\" routerLink=\"./edit/{{article.id}}\">edit</button>\n                <button *ngIf=\"article.deletable\" class=\"uk-button uk-button-small uk-button-danger\" (click)=\"markForDeletion(article)\">delete</button>\n            </td>\n            <td *ngIf=\"idToDelete === article.id\">\n                <label>Sure?</label>\n                <button  class=\"uk-button uk-button-small uk-button-primary uk-margin-left\" (click)=\"deleteArticle(article)\">yes</button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n\n<p *ngIf=\"articles.length === 0\" class=\"uk-text-warning\">No articles available</p>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ArticleListComponent } from './article-list/article-list.component';\nimport { ArticleEditComponent } from './article-edit/article-edit.component';\nimport { ArticleViewComponent } from '../public-site/article/view/article-view.component';\nimport { ArticleResolveService } from '../services/article/article-resolve.service';\nimport { AuthGuard } from '../auth/auth.guard';\nimport { ArticleCreateComponent } from './article-create/article-create.component';\nimport { OwnArticleCollectionResolveService } from '../services/article/own-article-collection-resolve.service';\n\nconst routes: Routes = [\n  { path: '', component: ArticleListComponent, resolve: {articleCollection: OwnArticleCollectionResolveService}},\n/*  { path: 'view/:id', component: ArticleViewComponent, resolve: {article: ArticleResolveService}}, */\n  { path: 'edit/:id', component: ArticleEditComponent, canActivate: [AuthGuard], resolve: {article: ArticleResolveService}},\n  { path: 'create', component: ArticleCreateComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ArticleManagementRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ArticleManagementRoutingModule } from './article-management-routing.module';\nimport { ArticleListComponent } from './article-list/article-list.component';\nimport { ArticleEditComponent } from './article-edit/article-edit.component';\nimport { ArticleCreateComponent } from './article-create/article-create.component';\nimport { FormsModule } from '@angular/forms';\nimport { SharedModule } from '../shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ArticleManagementRoutingModule,\n    FormsModule,\n    SharedModule\n  ],\n  declarations: [ArticleListComponent, ArticleEditComponent, ArticleCreateComponent]\n})\nexport class ArticleManagementModule { }\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { ArticleCollection } from '../../api/article';\nimport { AbstractArticleService } from './abstract.article.service';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OwnArticleCollectionResolveService implements Resolve<ArticleCollection> {\n\n  constructor(private articleService: AbstractArticleService) { }\n\n  resolve(): Observable<ArticleCollection> {\n    return this.articleService.getCompleteArticles();\n  }\n}"]}