{"version":3,"sources":["webpack:///src/app/admin/access.guard.ts","webpack:///src/app/admin/actuator/actuator.service.ts","webpack:///src/app/admin/admin-routing.module.ts","webpack:///src/app/admin/admin.module.ts","webpack:///src/app/admin/dashboard-menu.service.ts","webpack:///src/app/admin/dashboard/dashboard.component.ts","webpack:///src/app/admin/dashboard/dashboard.component.html","webpack:///src/app/admin/file/file-manager.component.ts","webpack:///src/app/admin/file/file-manager.component.html","webpack:///src/app/admin/file/file-upload.component.ts","webpack:///src/app/admin/file/file-upload.component.html","webpack:///src/app/admin/global-stats/global-stats.component.ts","webpack:///src/app/admin/global-stats/global-stats.component.html","webpack:///src/app/admin/modal/modal.component.ts","webpack:///src/app/admin/modal/modal.component.html","webpack:///src/app/admin/modal/modal.directive.ts","webpack:///src/app/admin/settings/settings.component.ts","webpack:///src/app/admin/settings/settings.component.html","webpack:///src/app/admin/users/users.component.ts","webpack:///src/app/admin/users/users.component.html","webpack:///src/app/services/file/blog-file-collection-resolve.service.ts","webpack:///src/app/services/settings/settings-resolve.service.ts","webpack:///src/app/services/user/user-resolve.service.ts"],"names":["AccessGuard","keycloakService","next","state","route","segments","canCreateArticles","login","path","includes","isAdmin","providedIn","ActuatorService","httpClient","get","routes","component","canLoad","resolve","userData","children","loadChildren","then","m","ArticleManagementModule","PageManagementModule","blogPage","SnippetManagementModule","websiteProperties","AdminRoutingModule","forChild","imports","exports","AdminModule","declarations","entryComponents","DashboardMenuService","routingService","dashboardMenuItems","dashboadMenuItem$","asObservable","urlOptions","label","url","currentUrl$","subscribe","menuItems","DashboardMenuItem","DashboardComponent","activatedRoute","dashboardMenuService","settingsService","subscriptions","push","currentUrl","getKeycloakTokenParsed$","parsedToken","userId","sub","data","console","log","user","role","roles","logoUrl$","logoImageUrl$","forEach","subscription","unsubscribe","selector","templateUrl","styleUrls","FileManagerComponent","fileService","selectable","currentPage","totalPages","searchedName","blogFiles","pageNumber","undefined","getFiles","blogFilesCollection","getFileUploaded$","newFile","unshift","s","file","selectFile","id","deleteFile","status","indexToDelete","find","value","index","splice","getFilePage","blogFilePage","name","loadPage","searchNameChanged","FileUploadComponent","filesBeingUploaded","removeSubscriptions","size","progress","completed","error","uploadFile","selectedFiles","addSubscriptions","fileIsBeingUploaded","event","fileListToArray","dataTransfer","files","uploadAll","preventDefault","fileList","fileArray","Array","i","length","item","stopPropagation","dropEffect","alert","target","progressSubscription","getFileUploadProgress$","fileProgress","Math","round","percentLoaded","successSubscription","errorSubscription","getFileUploadError$","GlobalStatsComponent","actuatorService","articleService","menuService","getArticleInfo","articleInfo","getPageInfo","pageInfo","getTotalApiRequests","jsonData","totalRequests","measurements","totalTimeSeconds","memoryUsed","getMemoryUsed","totalMemory","getTotalMemory","uptime","getUptime","ModalComponent","componentFactoryResolver","snippetService","on","getShowHideFileManager$","loadComponent","deleteComponent","factory","resolveComponentFactory","viewComponentRef","modalHost","viewContainerRef","clear","componentRef","createComponent","instance","hideFileManager","closeModal","ModalDirective","SettingsComponent","WEBSITE_LOGO_ID","isLoading","markForUnsubscription","titleFormControl","title","required","nameFormControl","getFileSelected$","logoUrl","toString","valueChanges","newTitle","newName","showFileManager","saveProperties","result","saveSettings","UsersComponent","BlogFileCollectionResolveService","SettingsResolveService","UserResolveService","parsedKeycloakToken","realm_access","resource_access","getUserInfo"],"mappings":"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","file":"admin-admin-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, CanLoad, Route, UrlSegment } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AbstractKeycloakService } from '../services/keycloak/abstract.keycloak.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AccessGuard implements CanActivate, CanLoad {\n\n\n  constructor(private keycloakService: AbstractKeycloakService) {}\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return true;\n  }\n\n  canLoad(route: Route, segments: UrlSegment[]): Observable<boolean> | Promise<boolean> | boolean {\n    if (false === this.keycloakService.canCreateArticles()) {\n      this.keycloakService.login();\n      return false;\n    }\n\n    if (route.path.includes('pages') || route.path.includes('users')) {\n      return this.keycloakService.isAdmin();\n    }\n\n    return true;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ActuatorService {\n\n  constructor(private httpClient: HttpClient) {}\n\n  getTotalApiRequests(): Observable<any> {\n    return this.httpClient.get('/actuator/metrics/http.server.requests');\n  }\n\n  getMemoryUsed(): Observable<any> {\n    return this.httpClient.get('/actuator/metrics/jvm.memory.used');\n  }\n\n  getTotalMemory(): Observable<any> {\n    return this.httpClient.get('/actuator/metrics/jvm.memory.max');\n  }\n\n  getUptime(): Observable<any> {\n    return this.httpClient.get('/actuator/metrics/process.uptime');\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { UsersComponent } from './users/users.component';\nimport { GlobalStatsComponent } from './global-stats/global-stats.component';\nimport { FileManagerComponent } from './file/file-manager.component';\nimport { BlogFileCollectionResolveService } from '../services/file/blog-file-collection-resolve.service';\nimport { UserResolveService } from '../services/user/user-resolve.service';\nimport { AccessGuard } from './access.guard';\nimport { SnippetResolveService } from '../shared/snippet/snippet-resolve.service';\nimport { SettingsComponent } from './settings/settings.component';\nimport { SettingsResolveService } from '../services/settings/settings-resolve.service';\n\nconst routes: Routes = [\n  {\n    path: '', component: DashboardComponent, canLoad: [AccessGuard], resolve: { userData: UserResolveService },\n    children: [\n        {\n          path: '', canLoad: [AccessGuard], component: GlobalStatsComponent\n        },\n\n        {\n          path: 'users', canLoad: [AccessGuard], component: UsersComponent\n        },\n        {\n          path: 'articles', canLoad: [AccessGuard], loadChildren: () => import('./../article-management/article-management.module').then(m => m.ArticleManagementModule),\n        },\n        {\n          path: 'pages', canLoad: [AccessGuard], loadChildren: () => import('./../page-management/page-management.module').then(m => m.PageManagementModule),\n        },\n        {\n          path: 'file-manager', canLoad: [AccessGuard], component: FileManagerComponent, resolve: { blogPage: BlogFileCollectionResolveService}\n        },\n        {\n          path: 'snippets', loadChildren: () => import('./../snippet-management/snippet-management.module').then(m => m.SnippetManagementModule)\n        },\n        {\n          path: 'settings', canLoad: [AccessGuard], component: SettingsComponent, resolve: {websiteProperties: SettingsResolveService}\n        }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AdminRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AdminRoutingModule } from './admin-routing.module';\nimport { UsersComponent } from './users/users.component';\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { GlobalStatsComponent } from './global-stats/global-stats.component';\nimport { FileManagerComponent } from './file/file-manager.component';\nimport { FileUploadComponent } from './file/file-upload.component';\nimport { ModalComponent } from './modal/modal.component';\nimport { ModalDirective } from './modal/modal.directive';\nimport { SharedModule } from '../shared/shared.module';\nimport { MaddobLibModule } from 'maddob-lib';\nimport { SettingsComponent } from './settings/settings.component';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    AdminRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MaddobLibModule\n  ],\n  declarations: [\n    UsersComponent,\n    ModalComponent,\n    ModalDirective,\n    DashboardComponent, \n    GlobalStatsComponent, \n    FileManagerComponent, \n    FileUploadComponent, SettingsComponent\n  ],\n  exports: [\n    FileManagerComponent,\n    FileUploadComponent,\n    ModalComponent\n  ],\n  entryComponents: [FileManagerComponent, FileUploadComponent],\n})\nexport class AdminModule { }\n","import { Injectable } from '@angular/core';\nimport { RoutingService } from '../routing.service';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DashboardMenuService {\n\n  private dashboardMenuItems: Subject<Array<DashboardMenuItem>> = new Subject();\n\n  dashboadMenuItem$ = this.dashboardMenuItems.asObservable();\n\n  private urlOptions = {\n    '/admin/articles': [\n      { label: 'create new article', url: '/admin/articles/create'},\n      //{ label: 'delete all articles', url: '/admin/articles/deleteAll'},\n    ],\n    '/admin/pages': [\n      { label: 'create new page', url: '/admin/pages/create'}\n    ],\n    '/admin/snippets': [\n      { label: 'create new snippet', url: '/admin/snippets/create'}\n    ],\n    '/admin/settings': [\n      { label: 'Settings', url: null } \n    ]\n  }\n\n  constructor(private routingService: RoutingService) { \n    routingService.currentUrl$.subscribe(url => {\n      const menuItems = this.urlOptions[url] as Array<DashboardMenuItem>;\n      if (!menuItems) {\n        this.dashboardMenuItems.next([]);\n      } else {\n        this.dashboardMenuItems.next(menuItems);\n      }\n    });\n  }\n}\n\nexport class DashboardMenuItem {\n  public label: string;\n  public url: string;\n}","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { RoutingService } from './../../routing.service';\nimport { Subscription, Observable } from 'rxjs';\nimport { AbstractKeycloakService } from './../../services/keycloak/abstract.keycloak.service';\nimport { KeycloakTokenParsed } from '../../type/keycloak';\nimport { User } from './../../api/user';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DashboardMenuService, DashboardMenuItem } from '../dashboard-menu.service';\nimport { SettingsService } from './../../services/settings/settings.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit, OnDestroy {\n\n  currentUrl: string;\n  subscriptions: Array<Subscription> = [];\n  userId: string;\n  user: User;\n  role: string;\n  menuItems: Observable<Array<DashboardMenuItem>>;\n  isAdmin: boolean;\n  logoUrl$: Observable<string>;\n\n  constructor(\n    private routingService: RoutingService, \n    private keycloakService: AbstractKeycloakService,\n    private activatedRoute: ActivatedRoute,\n    //private router: Router,\n    private dashboardMenuService: DashboardMenuService,\n    private settingsService: SettingsService\n    ) {\n      this.menuItems = this.dashboardMenuService.dashboadMenuItem$;\n     }\n\n  ngOnInit() {\n\n    this.isAdmin = this.keycloakService.isAdmin();\n\n    this.subscriptions.push(\n      this.routingService.currentUrl$.subscribe(url => this.currentUrl = url)\n    );\n\n    this.subscriptions.push(\n      this.keycloakService.getKeycloakTokenParsed$().subscribe((parsedToken: KeycloakTokenParsed) => {\n        this.userId = parsedToken.sub;\n      })\n    );\n\n    this.subscriptions.push(\n      this.activatedRoute.data.subscribe(data => {\n        console.log('data is:', data);\n        this.user = data.userData;\n        this.role = 'user';\n        if (this.user.roles.includes('publisher')) {\n          this.role = 'publisher';\n        }\n\n        if (this.user.roles.includes('admin')) {\n          this.role = 'admin';\n        }\n      })\n    );\n\n    this.logoUrl$ = this.settingsService.logoImageUrl$;\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(subscription => subscription.unsubscribe());\n  }\n}\n","<div class=\"uk-offcanvas-content\">\n\t<!--HEADER-->\n\t<header id=\"top-head\" class=\"uk-position-fixed\">\n\t\t<div class=\"uk-container uk-container-expand uk-background-primary\">\n\t\t\t<nav class=\"uk-navbar uk-light\" data-uk-navbar=\"mode:click; duration: 250\">\n\t\t\t\t\n\t\t\t\t<div class=\"uk-navbar-left\">\n\t\t\t\t\t<ul class=\"uk-navbar-nav\" >\n\t\t\t\t\t\t<li *ngFor=\"let menuItem of menuItems | async \">\n\t\t\t\t\t\t\t<button *ngIf=\"menuItem.url\" routerLink=\"{{ menuItem.url }}\" class=\"uk-button uk-button-small uk-button-default\">{{ menuItem.label }}</button>\n\t\t\t\t\t\t\t<span *ngIf=\"!menuItem.url\" class=\"uk-logo\">{{ menuItem.label }}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"uk-navbar-right\">\n\t\t\t\t\t<ul class=\"uk-navbar-nav\">\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a uk-icon=\"sign-out\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<li class=\"uk-hidden@m\">\n\t\t\t\t\t\t\t<a class=\"uk-navbar-toggle uk-icon uk-navbar-toggle-icon\" data-uk-toggle=\"\" data-uk-navbar-toggle-icon=\"\" href=\"#offcanvas-nav\" title=\"show menu\" data-uk-tooltip=\"\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t\t<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" \n\t\t\t\t\t\t\t\t\tdata-svg=\"navbar-toggle-icon\">\n\t\t\t\t\t\t\t\t\t<rect y=\"9\" width=\"20\" height=\"2\"></rect>\n\t\t\t\t\t\t\t\t\t<rect y=\"3\" width=\"20\" height=\"2\"></rect>\n\t\t\t\t\t\t\t\t\t<rect y=\"15\" width=\"20\" height=\"2\"></rect>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t</div>\n\t</header>\n\t<!--/HEADER-->\n\t<!-- LEFT BAR -->\n\t<aside id=\"left-col\" class=\"uk-light uk-visible@m\">\n\t\t<div class=\"left-logo uk-flex uk-flex-middle\">\n\t\t\t<img class=\"custom-logo\" src=\"{{ logoUrl$ | async }}\" alt=\"logo\">\n\t\t</div>\n\t\t<div class=\"left-content-box  content-box-dark\">\n\t\t\t<img src=\"img/avatar.svg\" alt=\"\" class=\"uk-border-circle profile-img\">\n\t\t\t<h4 class=\"uk-text-center uk-margin-remove-vertical text-light\">{{ user.username }}</h4>\n\n\t\t\t<div class=\"uk-position-relative uk-text-center uk-display-block\">\n\t\t\t\t<a href=\"#\" class=\"uk-text-small uk-text-muted uk-display-block uk-text-center uk-icon\" data-uk-icon=\"icon: triangle-down; ratio: 0.7\">{{ role }}</a>\n\t\t\t\t<!-- user dropdown\n\t\t\t\t<div class=\"uk-dropdown user-drop\" data-uk-dropdown=\"mode: click; pos: bottom-center; animation: uk-animation-slide-bottom-small; duration: 150\">\n\t\t\t\t\t<ul class=\"uk-nav uk-dropdown-nav uk-text-left\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<li><a href=\"#\"><span data-uk-icon=\"icon: info\" class=\"uk-icon\"></span> Summary</a></li>\n\t\t\t\t\t\t\t\t<li><a href=\"#\"><span data-uk-icon=\"icon: refresh\" class=\"uk-icon\"></span> Edit</a></li>\n\t\t\t\t\t\t\t\t<li><a href=\"#\"><span data-uk-icon=\"icon: settings\" class=\"uk-icon\"></span> Configuration</a></li>\n\t\t\t\t\t\t\t\t<li class=\"uk-nav-divider\"></li>\n\t\t\t\t\t\t\t\t<li><a href=\"#\"><span data-uk-icon=\"icon: image\" class=\"uk-icon\"></span> Your Data</a></li>\n\t\t\t\t\t\t\t\t<li class=\"uk-nav-divider\"></li>\n\t\t\t\t\t\t\t\t<li><a href=\"#\"><span data-uk-icon=\"icon: sign-out\" class=\"uk-icon\"></span> Sign Out</a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<!-- /user dropdown -->\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"left-nav-wrap\">\n\t\t\t<ul class=\"uk-nav uk-nav-default uk-nav-parent-icon\" data-uk-nav=\"\">\n\t\t\t\t<li class=\"uk-nav-header\">ACTIONS</li>\n\t\t\t\t<li [ngClass]=\"{'uk-active': currentUrl === '/admin'}\"><a routerLink=\"./\"><span data-uk-icon=\"icon: info\" class=\"uk-margin-small-right uk-icon\"></span>Stats</a></li>\n\t\t\t\t<li [ngClass]=\"{'uk-active': currentUrl === '/admin/settings'}\">\n\t\t\t\t\t<a routerLink=\"./settings\"><span data-uk-icon=\"icon: settings\" class=\"uk-margin-small-right uk-icon\"></span>Settings</a>\n\t\t\t\t</li>\n\t\t\t\t<li [ngClass]=\"{'uk-active': currentUrl === '/admin/articles'}\">\n\t\t\t\t\t<a routerLink=\"./articles\"><span data-uk-icon=\"icon: list\" class=\"uk-margin-small-right uk-icon\"></span>Articles</a>\n\t\t\t\t</li>\n\t\t\t\t<li [ngClass]=\"{'uk-active': currentUrl === '/admin/file-manager'}\">\n\t\t\t\t\t<a routerLink=\"./file-manager\"><span data-uk-icon=\"icon: thumbnails\" class=\"uk-margin-small-right uk-icon\"></span>File Manager</a>\n\t\t\t\t</li>\n\t\t\t\t<li *ngIf=\"isAdmin\" [ngClass]=\"{'uk-active': currentUrl === '/admin/pages'}\">\n\t\t\t\t\t<a routerLink=\"./pages\"><span data-uk-icon=\"icon: album\" class=\"uk-margin-small-right uk-icon\"></span>Pages</a>\n\t\t\t\t</li>\n\t\t\t\t<li *ngIf=\"isAdmin\" [ngClass]=\"{'uk-active': currentUrl === '/admin/users'}\">\n\t\t\t\t\t<a routerLink=\"./users\"><span data-uk-icon=\"icon: users\" class=\"uk-margin-small-right uk-icon\"></span>Users</a>\n\t\t\t\t</li>\n\n\t\t\t\t<li *ngIf=\"isAdmin\" [ngClass]=\"{'uk-active': currentUrl === '/admin/snippets'}\">\n\t\t\t\t\t<a routerLink=\"./snippets\"><span data-uk-icon=\"icon: code\" class=\"uk-margin-small-right uk-icon\"></span>HTML Snippets</a>\n\t\t\t\t</li>\n\t\t\t\t\n\t\t\t</ul>\n\n\t\t\t<div class=\"left-content-box uk-margin-top\">\n\t\t\t\t<!--\n\t\t\t\t<h5>Daily Reports (Admins only)</h5>\n\t\t\t\t<div>\n\t\t\t\t\t<span class=\"uk-text-small\">Traffic <small>(+50)</small></span>\n\t\t\t\t\t<progress class=\"uk-progress\" value=\"50\" max=\"100\"></progress>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span class=\"uk-text-small\">Income <small>(+78)</small></span>\n\t\t\t\t\t<progress class=\"uk-progress success\" value=\"78\" max=\"100\"></progress>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span class=\"uk-text-small\">Feedback <small>(-12)</small></span>\n\t\t\t\t\t<progress class=\"uk-progress warning\" value=\"12\" max=\"100\"></progress>\n\t\t\t\t</div>\n\t\t\t\t-->\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"bar-bottom\">\n\t\t\t<ul class=\"uk-subnav uk-flex uk-flex-center uk-child-width-1-5 uk-grid\" data-uk-grid=\"\">\n\t\t\t\t<li class=\"uk-first-column\">\n\t\t\t\t\t<a routerLink=\"/\" class=\"uk-icon-link uk-icon\" data-uk-icon=\"icon: home\" title=\"\" data-uk-tooltip=\"Go to homepage\"\n\t\t\t\t\t aria-expanded=\"false\"></a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a routerLink=\"/logout\" class=\"uk-icon-link uk-icon\" data-uk-tooltip=\"Sign out\" data-uk-icon=\"icon: sign-out\" title=\"logout\"\n\t\t\t\t\t aria-expanded=\"false\"></a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</aside>\n\t<!-- /LEFT BAR -->\n\n\t<!-- CONTENT -->\n\t<div id=\"content\" data-uk-height-viewport=\"expand: true\" style=\"min-height: 555px;\">\n\t\t<div class=\"uk-container uk-container-expand\">\n\t\t\t<router-outlet></router-outlet>\n\t\t</div>\t\t\t\n\t</div>\n\t<!-- /CONTENT -->\n\n\t<!-- OFFCANVAS MENU -->\n\t<div id=\"offcanvas-nav\" data-uk-offcanvas=\"flip: true; overlay: true\" class=\"uk-offcanvas\" style=\"\">\n\t\t<div class=\"uk-offcanvas-bar\">\n\t\t\t<button class=\"uk-offcanvas-close uk-close uk-icon\" type=\"button\" data-uk-close=\"\"><svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" xmlns=\"http://www.w3.org/2000/svg\" data-svg=\"close-icon\"><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" x1=\"1\" y1=\"1\" x2=\"13\" y2=\"13\"></line><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" x1=\"13\" y1=\"1\" x2=\"1\" y2=\"13\"></line></svg></button>\n\t\t\t<ul class=\"uk-nav uk-nav-default\">\n\t\t\t\t<li class=\"uk-nav-header\">ACTIONS</li>\n\t\t\t\t<li [ngClass]=\"{'uk-active': currentUrl === '/admin'}\"><a routerLink=\"./\"><span data-uk-icon=\"icon: info\" class=\"uk-margin-small-right uk-icon\"></span>Stats</a></li>\n\t\t\t\t<li [ngClass]=\"{'uk-active': currentUrl === '/admin/settings'}\">\n\t\t\t\t\t<a routerLink=\"./settings\"><span data-uk-icon=\"icon: settings\" class=\"uk-margin-small-right uk-icon\"></span>Settings</a>\n\t\t\t\t</li>\n\t\t\t\t<li [ngClass]=\"{'uk-active': currentUrl === '/admin/articles'}\">\n\t\t\t\t\t<a routerLink=\"./articles\"><span data-uk-icon=\"icon: list\" class=\"uk-margin-small-right uk-icon\"></span>Articles</a>\n\t\t\t\t</li>\n\t\t\t\t<li [ngClass]=\"{'uk-active': currentUrl === '/admin/file-manager'}\">\n\t\t\t\t\t<a routerLink=\"./file-manager\"><span data-uk-icon=\"icon: thumbnails\" class=\"uk-margin-small-right uk-icon\"></span>File Manager</a>\n\t\t\t\t</li>\n\t\t\t\t<li *ngIf=\"isAdmin\" [ngClass]=\"{'uk-active': currentUrl === '/admin/pages'}\">\n\t\t\t\t\t<a routerLink=\"./pages\"><span data-uk-icon=\"icon: album\" class=\"uk-margin-small-right uk-icon\"></span>Pages</a>\n\t\t\t\t</li>\n\t\t\t\t<li *ngIf=\"isAdmin\" [ngClass]=\"{'uk-active': currentUrl === '/admin/users'}\">\n\t\t\t\t\t<a routerLink=\"./users\"><span data-uk-icon=\"icon: users\" class=\"uk-margin-small-right uk-icon\"></span>Users</a>\n\t\t\t\t</li>\n\n\t\t\t\t<li *ngIf=\"isAdmin\" [ngClass]=\"{'uk-active': currentUrl === '/admin/snippets'}\">\n\t\t\t\t\t<a routerLink=\"./snippets\"><span data-uk-icon=\"icon: code\" class=\"uk-margin-small-right uk-icon\"></span>HTML Snippets</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<h3>Title</h3>\n\t\t\t<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n\t\t</div>\n\t</div>\n\t<!-- /OFFCANVAS MENU -->\n\n\t<!-- MODAL COMPONENT PLACEHOLDER-->\n\t<app-modal></app-modal>\n\n</div>\n\n","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { BlogFile, BlogFileCollection, BlogFilePage } from './../../api/blog-file';\nimport { ActivatedRoute } from '@angular/router';\nimport { AbstractFileService } from './../../services/file/abstract.file.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-file-manager',\n  templateUrl: './file-manager.component.html',\n  styleUrls: ['./file-manager.component.css']\n})\nexport class FileManagerComponent implements OnInit , OnDestroy {\n\n  @Input() selectable = false;\n\n  blogFiles: Array<BlogFile>;\n  id: string;\n  subscriptions: Array<Subscription> = [];\n  currentPage = 0;\n  totalPages = 0;\n  searchedName = '';\n\n  constructor(private activatedRoute: ActivatedRoute, private fileService: AbstractFileService) { }\n\n  ngOnInit() {\n    this.subscriptions.push(\n      this.activatedRoute.data.subscribe(data => {\n        if (data.blogPage) {\n          this.blogFiles = data.blogPage.blogFiles;\n          this.currentPage = data.blogPage.pageNumber;\n          this.totalPages = data.blogPage.totalPages;\n        }\n      })\n    );\n\n    if (this.blogFiles === null || this.blogFiles === undefined) {\n      this.subscriptions.push(\n        this.fileService.getFiles().subscribe((blogFilesCollection: BlogFileCollection) => {\n          this.blogFiles = blogFilesCollection.blogFiles;\n        }\n      ));\n    }\n\n    this.fileService.getFileUploaded$().subscribe(newFile => {\n      this.blogFiles.unshift(newFile);\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  selectItem(file: BlogFile) {\n    this.fileService.selectFile(this.id, file);\n  }\n\n  deleteFile(file: BlogFile) {\n    this.fileService.deleteFile(file).subscribe(status => {\n      if (status) {\n        console.log('FILE DELETED', file);\n        let indexToDelete = -1;\n        this.blogFiles.find((value: BlogFile, index: number) => {\n          if (value.id === file.id) {\n            indexToDelete = index;\n            return true;\n          }\n          return false;\n        });\n\n        if (indexToDelete > -1) {\n          console.log('BEFORE DELETE', this.blogFiles);\n          this.blogFiles.splice(indexToDelete, 1);\n          console.log('AFTER DELETE', this.blogFiles);\n        }\n      }\n    });\n  }\n\n  loadPage(pageNumber: number) {\n    const s = this.fileService.getFilePage(pageNumber, this.searchedName).subscribe((blogFilePage: BlogFilePage) => {\n      if (blogFilePage) {\n        this.blogFiles = blogFilePage.blogFiles;\n        this.currentPage = blogFilePage.pageNumber;\n        this.totalPages = blogFilePage.totalPages;\n      }\n\n      s.unsubscribe();\n    });\n  }\n\n  searchNameChanged(name: string) {\n    this.searchedName = name;\n    this.loadPage(this.currentPage);\n  }\n}\n","<div class=\"uk-container\">\n    <app-file-upload></app-file-upload>\n</div>\n<div class=\"uk-container\">\n\n    <div class=\"uk-flex uk-flex-between uk-flex-middle uk-margin-bottom\">\n        <div class=\"uk-flex-left uk-flex-middle\">\n            <app-pagination [currentPage]=\"currentPage\" [totalPages]=\"totalPages\" (pageRequested)=\"loadPage($event)\">\n            </app-pagination>\n        </div>\n        <div class=\"uk-flex-right\">\n            <app-search (searchNameChanged)=\"searchNameChanged($event)\"></app-search>\n        </div>\n    </div>\n\n    <div class=\"uk-grid uk-grid-small\">\n        <div *ngFor=\"let file of blogFiles; let index = index;\"\n            class=\"file-manager-card uk-card uk-card-small uk-margin-left uk-margin-bottom\">\n            <div class=\"uk-card-header\">\n\n                <div class=\"uk-inline\">\n                    <div class=\"uk-cover-container\">\n                        <canvas width=\"200\" height=\"120\"></canvas>\n                        <img src=\"/api/v1/files/{{file.id}}?size=200\" alt=\"\" uk-cover>\n                    </div>\n                </div>\n            </div>\n            <div class=\"uk-card-body nb-card-body\">\n                <span class=\"uk-text-small\">{{ file.name }}</span>\n            </div>\n            <div class=\"uk-card-footer\">\n                <div class=\"uk-float-right\">\n                    <a class=\"uk-icon-link\" uk-icon=\"trash\" (click)=\"deleteFile(file)\"></a>\n                </div>\n                <div class=\"uk-float-left\">\n                    <button *ngIf=\"selectable\" class=\"uk-button uk-button-small uk-button-primary\"\n                        (click)=\"selectItem(file)\">select</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit, OnDestroy, ViewChild, AfterViewInit } from '@angular/core';\nimport { AbstractFileService } from './../../../app/services/file/abstract.file.service';\nimport { Subscription } from 'rxjs';\nimport { BlogFile } from './../../../app/api/blog-file';\nimport { FileUploadProgress, FileUploadError } from './../../http/file-upload';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.css']\n})\nexport class FileUploadComponent implements OnInit, OnDestroy {\n\n  selectedFiles: Array<File>;\n  filesBeingUploaded = {};\n\n  progressSubscription: Subscription;\n  successSubscription: Subscription;\n  errorSubscription: Subscription;\n\n  @ViewChild('file',  {static: false}) file;\n\n  constructor(private fileService: AbstractFileService) { }\n\n  ngOnInit() {\n    //this.addSubscriptions();\n  }\n\n  ngOnDestroy() {\n    this.removeSubscriptions();\n  }\n\n  uploadFile(file: File) {\n    this.filesBeingUploaded[file.name] = {\n      size: 100,\n      progress: 0,\n      completed: false,\n      error: null\n    };\n    this.fileService.uploadFile(file);\n  }\n\n  clearAll() {\n    console.log('CLEAR ALL');\n    this.selectedFiles = null;\n    this.filesBeingUploaded = {};\n    this.removeSubscriptions();\n  }\n\n  uploadAll() {\n    this.addSubscriptions();\n    this.selectedFiles.forEach(file => {\n      console.log('UPLOADING FILE: ', file);\n\n      if (!this.fileIsBeingUploaded(file)) {\n        this.uploadFile(file);\n      }\n    });\n  }\n\n  onDrop(event) {\n    this.selectedFiles = this.fileListToArray(event.dataTransfer.files);\n    console.log('ON DROP')\n    this.uploadAll();\n    event.preventDefault();\n  }\n  \n  private fileListToArray(fileList: FileList): Array<File> {\n    const fileArray = new Array();\n    for (let i = 0; i < fileList.length; i++) {\n      fileArray.push(fileList.item(i));\n    }\n    console.log('TO RETURN: ', fileArray);\n    return fileArray;\n  }\n\n  private fileIsBeingUploaded(file: File): boolean {\n    return !!this.filesBeingUploaded[file.name];\n  }\n\n  onDragOver(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    event.dataTransfer.dropEffect = \"move\";\n  }\n\n  fileAdded(event) {\n    alert('FILE ADDED');\n    // console.log('EVENT IS: ', event);\n    if (event.target.files) {\n      //this.file.nativeElement.value = '';\n      \n      this.selectedFiles = this.fileListToArray(event.target.files)\n      this.uploadAll();\n    }\n  }\n\n  private addSubscriptions() {\n    this.progressSubscription = this.fileService.getFileUploadProgress$().subscribe((fileProgress: FileUploadProgress) => {\n      this.filesBeingUploaded[fileProgress.file.name].progress = Math.round(fileProgress.percentLoaded * 100);\n    });\n\n    this.successSubscription = this.fileService.getFileUploaded$().subscribe((file: BlogFile) => {\n      this.filesBeingUploaded[file.name].completed = true;\n    });\n\n    this.errorSubscription = this.fileService.getFileUploadError$().subscribe((error: FileUploadError ) => {\n      this.filesBeingUploaded[error.file.name].error = error;\n    });\n  }\n\n  private removeSubscriptions() {\n    if (this.progressSubscription) {\n      this.progressSubscription.unsubscribe();\n    }\n\n    if (this.successSubscription) {\n      this.progressSubscription.unsubscribe();\n    }\n  }\n}","<div>\n    <div class=\"uk-placeholder uk-text-center\" (drop)=\"onDrop($event)\" (dragover)=\"onDragOver($event)\" *ngIf=\"!selectedFiles\">\n        <span uk-icon=\"icon: cloud-upload\"></span>\n        <span class=\"uk-text-middle\">To upload files just drop them here or </span>\n        <div uk-form-custom>\n            <input type=\"file\" (change)=\"fileAdded($event)\" #file multiple>\n            <span class=\"uk-link\">selecting one</span>\n        </div>\n    </div>\n    \n    <h3 class=\"uk-heading-line\"><span>Available images</span></h3>\n    <table class=\"uk-table uk-table-small uk-table-justify uk-table-divider\" *ngIf=\"selectedFiles\">\n        <thead>\n            <tr>\n                <th>Filename</th>\n                <th>Size</th>\n                <th class=\"uk-table-expand\">\n                    <button class=\"uk-button uk-button-danger uk-button-small\" type=\"button\" (click)=\"clearAll()\">Clear</button>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let file of selectedFiles\">\n                <td class=\"uk-text-break\">{{ file.name }}</td>\n                <td>{{ file.size }}</td>\n                <td class=\"uk-table-expand\" *ngIf=\"file.name\">\n                    \n                    <div *ngIf=\"filesBeingUploaded[file.name]\">\n                        <progress *ngIf=\"!filesBeingUploaded[file.name].completed && !filesBeingUploaded[file.name].error\" class=\"uk-progress\" \n                            value=\"{{filesBeingUploaded[file.name].progress}}\"\n                            max=\"{{filesBeingUploaded[file.name].size}}\"></progress>\n\n                        <span *ngIf=\"filesBeingUploaded[file.name].completed\" class=\"uk-text-small\">completed</span>\n                        <div *ngIf=\"filesBeingUploaded[file.name].error\">\n                            <span class=\"uk-text-danger\">upload failed</span>\n                            \n                            <button class=\"uk-button uk-button-danger uk-button-small\" type=\"button\" (click)=\"uploadFile(file)\">retry</button>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    \n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActuatorService } from '../actuator/actuator.service';\nimport { Observable, Subscription } from 'rxjs';\nimport { ArticleInfo } from '../../api/article-info';\nimport { AbstractArticleService } from './../../services/article/abstract.article.service';\nimport { PageInfo } from '../../api/page-info';\nimport { MenuService } from './../../services/page/menu.service';\nimport { AbstractKeycloakService } from './../../services/keycloak/abstract.keycloak.service';\n\n@Component({\n  selector: 'app-global-stats',\n  templateUrl: './global-stats.component.html',\n  styleUrls: ['./global-stats.component.css']\n})\nexport class GlobalStatsComponent implements OnInit, OnDestroy {\n\n  totalRequests: number;\n  totalTimeSeconds: number;\n  totalArticles: number;\n  totalPages: number;\n\n  memoryUsed: Observable<any>;\n  totalMemory: Observable<any>;\n  uptime: Observable<any>;\n  articleInfo: ArticleInfo;\n  pageInfo: PageInfo;\n  isAdmin: boolean;\n\n  subscriptions: Array<Subscription> = [];\n\n  constructor(private actuatorService: ActuatorService, \n    private articleService: AbstractArticleService,\n    private menuService: MenuService, private keycloakService: AbstractKeycloakService) { }\n\n  ngOnInit() {\n    \n\n    this.subscriptions.push(\n      this.articleService.getArticleInfo().subscribe(articleInfo => {\n        this.articleInfo = articleInfo;\n      })\n    );\n\n    this.subscriptions.push(\n      this.menuService.getPageInfo().subscribe(pageInfo => {\n        this.pageInfo = pageInfo;\n      })\n    );\n    \n    this.isAdmin = this.keycloakService.isAdmin();\n    if (this.isAdmin) {\n      this.subscriptions.push(\n        this.actuatorService.getTotalApiRequests().subscribe(jsonData => {\n          this.totalRequests = jsonData.measurements[0].value;\n          this.totalTimeSeconds = jsonData.measurements[1].value;\n        })\n      );\n  \n      this.memoryUsed = this.actuatorService.getMemoryUsed();\n      this.totalMemory = this.actuatorService.getTotalMemory();\n      this.uptime = this.actuatorService.getUptime();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n}\n","<div *ngIf=\"isAdmin\" \nclass=\"uk-grid uk-grid-divider uk-grid-medium uk-child-width-1-2 uk-child-width-1-3@l uk-child-width-1-3@xl\" data-uk-grid=\"\">\n  <div class=\"uk-first-column\">\n    <span class=\"uk-text-small\"><span data-uk-icon=\"icon:download\" class=\"uk-margin-small-right uk-text-primary uk-icon\"></span>Total\n      Requests</span>\n    <h1 class=\"uk-heading-primary uk-margin-remove  uk-text-primary\">{{ totalRequests }}</h1>\n  </div>\n  <div>\n    <span class=\"uk-text-small\"><span data-uk-icon=\"icon:clock\" class=\"uk-margin-small-right uk-text-primary uk-icon\"></span>Total\n      CPU Time</span>\n    <h1 class=\"uk-heading-primary uk-margin-remove uk-text-primary\">{{ totalTimeSeconds | number: '1.0-0' | readableTime }}</h1>\n    <!--\n    <div class=\"uk-text-small\">\n      <span class=\"uk-text-warning uk-icon\" data-uk-icon=\"icon: triangle-down\">-15%</span> less than last week.\n    </div>\n    -->\n  </div>\n\n  <div>\n    <span class=\"uk-text-small\"><span data-uk-icon=\"icon:clock\" class=\"uk-margin-small-right uk-text-primary uk-icon\"></span>Total\n      Server uptime</span>\n    <h1 class=\"uk-heading-primary uk-margin-remove uk-text-primary\">{{(uptime | async)?.measurements[0]?.value | readableTime }}</h1>\n  </div>\n\n  <div>\n    <span class=\"uk-text-small\"><span data-uk-icon=\"icon:server\" class=\"uk-margin-small-right uk-text-primary uk-icon\"></span>Total\n      Memory </span>\n    <h1 class=\"uk-heading-primary uk-margin-remove uk-text-primary\">{{(totalMemory | async)?.measurements[0]?.value / (1024 * 1024)| number:'1.1-1' }} MB</h1>\n  </div>\n\n  <div>\n    <span class=\"uk-text-small\"><span data-uk-icon=\"icon:server\" class=\"uk-margin-small-right uk-text-primary uk-icon\"></span>\n      Memory used</span>\n    <h1 class=\"uk-heading-primary uk-margin-remove uk-text-primary\">{{ (memoryUsed | async )?.measurements[0]?.value / 1024 / 1024 | number:'1.1-1' }} MB</h1>\n  </div>\n</div>\n\n<!-- ARTICLE INFO -->\n<div class=\"uk-grid uk-grid-medium\" data-uk-grid=\"\">\n  <!-- panel -->\n  <div class=\"uk-width-1-2@l uk-first-column\" *ngIf=\"articleInfo\">\n    <div class=\"uk-card uk-card-primary uk-card-small uk-card-hover\">\n      <div class=\"uk-card-header\">\n        <div class=\"uk-grid uk-grid-small\">\n          <div class=\"uk-width-auto\">\n            <h4>Article Info</h4>\n          </div>\n        </div>\n      </div>\n      <div class=\"uk-card-body\">\n        <p>Total: {{ articleInfo.total }}</p>\n        <p>Own: {{ articleInfo.own }}</p>\n        <p>Unpublished: {{ articleInfo.unpublished }}</p>\n        <p>Featured: {{ articleInfo.featured}}</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGES INFO -->\n  <div class=\"uk-width-1-2@l uk-first-column\" *ngIf=\"pageInfo\">\n    <div class=\"uk-card uk-card-secondary uk-card-small uk-card-hover\">\n      <div class=\"uk-card-header\">\n        <div class=\"uk-grid uk-grid-small\">\n          <div class=\"uk-width-auto\"><h4>Page Info</h4></div>\n        </div>\n      </div>\n      <div class=\"uk-card-body\">\n        <p>Total: {{ pageInfo.total }}</p>\n        <p>Own: {{ pageInfo.own }}</p>\n        <p>Unpublished: {{ pageInfo.unpublished }}</p>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, ViewChild, ComponentFactoryResolver } from '@angular/core';\nimport { ModalDirective } from './modal.directive';\nimport { FileManagerComponent } from '../../admin/file/file-manager.component';\nimport { Type } from '@angular/compiler';\nimport { AbstractFileService } from './../../services/file/abstract.file.service';\nimport { SnippetService } from './../../shared/snippet/snippet.service';\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.css']\n})\nexport class ModalComponent implements OnInit {\n\n  id: string;\n  on = false;\n\n  @ViewChild(ModalDirective, { static: true }) modalHost: ModalDirective;\n\n  constructor(private componentFactoryResolver: ComponentFactoryResolver\n    , private fileService: AbstractFileService\n    , private snippetService: SnippetService) { }\n\n  ngOnInit() {\n    this.fileService.getShowHideFileManager$().subscribe((data: {id: string, status: boolean}) => {\n      console.log('INFO NEW STATUS ARRIVED - ', data);\n      this.id = data.id;\n      this.on = data.status;\n      if (data.status) {\n        this.loadComponent('FileManagerComponent');\n      } else {\n        this.deleteComponent();\n      }\n    });\n  }\n\n  private loadComponent(component: string): any {\n    let factory = this.componentFactoryResolver.resolveComponentFactory(FileManagerComponent);\n    let viewComponentRef = this.modalHost.viewContainerRef;\n    viewComponentRef.clear();\n    let componentRef = viewComponentRef.createComponent(factory);\n    componentRef.instance.id = this.id;\n    componentRef.instance.selectable = true;\n  }\n\n  closeModal() {\n    this.fileService.hideFileManager(this.id);\n  }\n\n  private deleteComponent() {\n    this.on = false;\n    this.modalHost.viewContainerRef.clear();\n  }\n}\n","<div [hidden]=\"!on\" id=\"modal-container\" class=\"uk-modal-container uk-modal uk-open\" style=\"display: block;\">\n    <div class=\"uk-modal-dialog uk-modal-body\">\n        <button class=\"uk-modal-close-default\" type=\"button\" (click)=\"closeModal()\" uk-close></button>\n        <ng-template modal-host></ng-template>\n    </div>\n</div>\n","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[modal-host]',\n})\nexport class ModalDirective {\n  constructor(public viewContainerRef: ViewContainerRef) { }\n}","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { WebsiteProperties } from './../../api/website_properties';\nimport { FormControl, Validators } from '@angular/forms';\nimport { AbstractFileService } from './../../services/file/abstract.file.service';\nimport { SettingsService } from './../../services/settings/settings.service';\nimport { Observable, Subscription } from 'rxjs';\nimport { AbstractSubscriptionDestroyer } from './../../shared/abstract.subscription.destroyer';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css']\n})\nexport class SettingsComponent extends AbstractSubscriptionDestroyer implements OnInit {\n\n  readonly WEBSITE_LOGO_ID = 'WEBSITE_LOGO';\n\n  websiteProperties: WebsiteProperties;\n\n  titleFormControl: FormControl;\n  nameFormControl: FormControl;\n  logoFormControl: FormControl;\n  versionFormControl: FormControl;\n\n  logoUrl$: Observable<string>;\n\n  isLoading = false;\n\n  constructor(private activatedRoute: ActivatedRoute, private fileService: AbstractFileService, private settingsService: SettingsService) {\n    super();\n  }\n\n  ngOnInit() {\n    this.markForUnsubscription(this.activatedRoute.data.subscribe(data => {\n      this.websiteProperties = data.websiteProperties;\n    }));\n\n    this.titleFormControl = new FormControl(this.websiteProperties.title, Validators.required);\n    this.nameFormControl = new FormControl(this.websiteProperties.name, Validators.required);\n\n    this.markForUnsubscription(this.fileService.getFileSelected$().subscribe(data => {\n      if (data.id === this.WEBSITE_LOGO_ID) {\n        this.websiteProperties.logoUrl = data.file.id.toString();\n        this.fileService.hideFileManager(this.WEBSITE_LOGO_ID);\n      }\n    }));\n\n    this.markForUnsubscription(this.titleFormControl.valueChanges.subscribe((newTitle: string) => {\n      this.websiteProperties.title = newTitle;\n    }));\n\n    this.markForUnsubscription(this.nameFormControl.valueChanges.subscribe((newName: string) => {\n      this.websiteProperties.name = newName;\n    }));\n  }\n\n  selectFile() {\n    this.fileService.showFileManager(this.WEBSITE_LOGO_ID);\n  }\n\n  saveSettings() {\n    this.isLoading = true;\n    this.settingsService.saveProperties(this.websiteProperties).subscribe(result => {\n      this.isLoading = false;\n    });\n  }\n\n  deleteCurrentLogo() {\n    this.websiteProperties.logoUrl = null;\n  }\n}\n","<form class=\"uk-form-stacked\">\n    <div class=\"uk-margin\">\n        <label class=\"uk-form-label\" for=\"website_title\">Website title</label>\n        <div class=\"uk-form-controls\">\n            <input class=\"uk-input\" id=\"website_title\" type=\"text\" placeholder=\"Enter website title here\"\n                [formControl]=\"titleFormControl\">\n        </div>\n    </div>\n\n    <div class=\"uk-margin\">\n        <label class=\"uk-form-label\" for=\"website_name\">Website name</label>\n        <div class=\"uk-form-controls\">\n            <input class=\"uk-input\" id=\"website_name\" type=\"text\" placeholder=\"Enter website name here\"\n                [formControl]=\"nameFormControl\">\n        </div>\n    </div>\n\n\n    <div class=\"uk-margin\">\n        <label class=\"uk-form-label\">Logo</label>\n        <div class=\"uk-inline-clip uk-transition-toggle\" *ngIf=\"websiteProperties?.logoUrl\">\n            <img src=\"/api/v1/files/{{websiteProperties.logoUrl}}?size=200\" />\n\n            <div class=\"uk-transition-slide-top uk-position-top\">\n                <div class=\"icon_delete_overlay_container\">\n                    <a (click)=\"deleteCurrentLogo()\" class=\"uk-icon-link\" uk-icon=\"trash\"></a>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"uk-margin-top\">\n            <button (click)=\"selectFile()\" class=\"uk-button uk-button-primary uk-button-small\">select logo</button>\n        </div>\n    </div>\n\n    <button [disabled]=\"isLoading\" class=\"uk-button uk-button-danger uk-button-small\" (click)=\"saveSettings()\">save</button>\n    \n    <div *ngIf=\"isLoading\">\n        <div uk-spinner></div>\n    </div>\n\n</form>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<p>\n  Users are currently being administered from the Keycloak Server\n</p>\n","import { Injectable } from '@angular/core';\nimport { BlogFilePage } from '../../api/blog-file';\nimport { Resolve } from '@angular/router';\nimport { AbstractFileService } from './abstract.file.service';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BlogFileCollectionResolveService implements Resolve<BlogFilePage> {\n\n  constructor(private fileService: AbstractFileService) {}\n\n  resolve(): Observable<BlogFilePage> {\n    return this.fileService.getFilePage(0, '');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { WebsiteProperties } from './../../api/website_properties';\nimport { Observable } from 'rxjs';\nimport { ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SettingsResolveService implements Resolve<WebsiteProperties> {\n\n  constructor(private httpClient: HttpClient) {} \n  \n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): WebsiteProperties | Observable<WebsiteProperties> | Promise<WebsiteProperties> {\n    return this.httpClient.get('/api/v1/settings') as Observable<WebsiteProperties>;\n  }\n  \n}\n","import { Injectable } from '@angular/core';\nimport { AbstractKeycloakService } from '../keycloak/abstract.keycloak.service';\nimport { Resolve } from '@angular/router';\nimport { User } from './../../api/user';\nimport { Observable } from 'rxjs';\nimport { UserService } from './user.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserResolveService implements Resolve<User> {\n\n  private userId: string;\n\n  constructor(private keycloakService: AbstractKeycloakService) { }\n\n  resolve(): Observable<User> {\n    \n    this.keycloakService.getKeycloakTokenParsed$().subscribe(parsedKeycloakToken => {\n      parsedKeycloakToken.realm_access;\n      parsedKeycloakToken.resource_access;\n      this.userId = parsedKeycloakToken.sub;\n    });\n    \n    return this.keycloakService.getUserInfo(this.userId);\n  }\n}\n"]}